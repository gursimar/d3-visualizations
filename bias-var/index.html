<!DOCTYPE html>
<meta charset="utf-8">

<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="styles.css">
<body>
<div class="jumbotron text-center">
  <h2>Polynomial regression<font size="3">(<a target="_blank" href="https://en.wikipedia.org/wiki/Polynomial_regression">?</a>)</font> bias-variance tradeoff<font size="3">(<a target="_blank" href="https://en.wikipedia.org/wiki/Bias%E2%80%93variance_tradeoff">?</a>)</font> playground</h2>
  <p>Choose a function, try different values of p and see how you do on generalization error!</p> 
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-sm-2">
    	<div>
	    	<h4>DATA</h4>
	    	<p>What complexity of data you want to use</p>
			<div class="btn-group">
			  <button type="button" id="data_1" class="btn btn-default">Linear</button>
			  <button type="button" id="data_2" class="btn btn-default">Cmplx</button>
			  <button type="button" id="data_3" class="btn btn-default">Cmplx</button>
			</div>
    	</div>
    	<br><br><br>
    	<div>
	    	<h4>DEGREE</h4>
	    	<p>What polynomial basis you want to use</p>
			<div class="btn-group">
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(1);">1</button>
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(2);">2</button>
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(3);">3</button>
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(4);">4</button>
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(5);">5</button>
			  <button type="button" class="btn btn-default" onclick="learnDrawCurve(6);">6</button>
			</div>
			<button type="button" class="btn btn-default" onclick="showBigPicture()">Big pic</button>
			<button type="button" class="btn btn-default" onclick="showActualPicture()">Actual pic</button>

    	</div>
		<br><br><br>
    	<div>
	    	<h4>Bias/Variance</h4>
	    	<!--p>Learn 100 models</p-->
			<div class="btn-group">
			  <button type="button" class="btn btn-default" onclick="generateBiasVarData()">Go</button>
			</div>
    	</div>

    </div>
    <div class="col-sm-5">
    	<div id ="plot-1">
    	</div>
    </div>
    <div class="col-sm-5">
    	<div id ="plot-2">
    	</div>
    	<br>
    	<div id ="plot-3">
    	</div>
    </div>
  </div>
</div>

</body>

<script src="bower_components/jquery/dist/jquery.js"></script>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="node_modules/mathjs/dist/math.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="node_modules/js-regression/src/jsregression.js"></script> <!-- not needed-->
<script src="ml-functions.js"></script>
<script src="box.js"></script>
<script src="line_plot.js"></script>
<script src="event_handling.js"></script>
<script src="box_plot.js"></script>
<script src="bar_plot.js"></script>

<script>
	var x = linspace(-7,10,2)
	var w = []
	var w_all = [
		[-5,50,1],
		[5, 6, 2, 3],
		[7,4,-1,10,-1]]
	var w_ind = 1
	var nf = 200 // noise factor
	var model_degree = 1
	var data = []
	var tData = [] // transformed data used in d3
	var rResult = [] //result of the regression fitting
	var rData = [] //transformed result data used in d3
	var view = 0;

	// Setup d3
	WIDTH = 560
	HEIGHT = 350
	var margin = {top:20, right:20, bottom:30, left:50}
		width = WIDTH - margin.left - margin.right
		height = HEIGHT - margin.top - margin.bottom;

	var svg = d3.select("#plot-1").append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
		.append("g")
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

	var svg_data = svg.append("g").attr("class", "svg_data")
	var svg_curve = svg.append("g").attr("class", "svg_curve")
	var x_axis = svg.append("g").attr("class", "x axis")
	var y_axis = svg.append("g").attr("class", "y axis")
	var legend_main = svg.append("g").attr("class", "legend_main")

	
	var color = d3.scale.category10();;
	var scale_x = []
	var scale_y = []

	data = createData()
	showActualPicture()
//////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////

</script>

